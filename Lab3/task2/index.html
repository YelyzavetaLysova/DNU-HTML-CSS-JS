<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–ª—É—á–∏—Ç–∏ –≤ –æ–±–ª–∞—Å—Ç—å</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 20px;
        }
        canvas {
            border: 2px solid black;
            margin: 20px auto;
            display: block;
        }
        .controls {
            margin-top: 20px;
        }
        button {
            padding: 10px 20px;
            margin: 5px;
            font-size: 16px;
            cursor: pointer;
        }
        #hints {
            margin-top: 20px;
            border: 1px solid #ccc;
            padding: 10px;
            max-width: 400px;
            margin: 20px auto;
            text-align: left;
        }
    </style>
</head>
<body>
    <h1>–í–ª—É—á–∏—Ç–∏ –≤ –æ–±–ª–∞—Å—Ç—å</h1>
    <p>–ö–µ—Ä—É–π—Ç–µ —Ç–æ—á–∫–æ—é –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–Ω–æ–ø–æ–∫, —â–æ–± –ø–æ—Ç—Ä–∞–ø–∏—Ç–∏ –≤ —Ü—ñ–ª—å–æ–≤—É –æ–±–ª–∞—Å—Ç—å.</p>
    <canvas id="gameCanvas" width="400" height="400"></canvas>
    <div class="controls">
        <button onclick="movePoint(-10, 0)">‚¨ÖÔ∏è –í–ª—ñ–≤–æ</button>
        <button onclick="movePoint(10, 0)">‚û°Ô∏è –í–ø—Ä–∞–≤–æ</button>
        <button onclick="movePoint(0, -10)">‚¨ÜÔ∏è –í–≤–µ—Ä—Ö</button>
        <button onclick="movePoint(0, 10)">‚¨áÔ∏è –í–Ω–∏–∑</button>
    </div>
    <div id="hints">
        <strong>–Ü—Å—Ç–æ—Ä—ñ—è —Å–ø—Ä–æ–±:</strong>
        <ul id="hintList"></ul>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const hintList = document.getElementById('hintList');

        // –û–ø–∏—Å –æ–±–ª–∞—Å—Ç—ñ
        const verticalStrip1 = { xStart: 50, xEnd: 150 }; // –§—ñ–≥—É—Ä–∞-1
        const horizontalStrip = { yStart: 100, yEnd: 200 }; // –§—ñ–≥—É—Ä–∞-2
        const verticalStrip2 = { xStart: 100, xEnd: 300 }; // –§—ñ–≥—É—Ä–∞-3

        let pointX = Math.floor(Math.random() * 400); // –ü–æ—á–∞—Ç–∫–æ–≤–∞ –ø–æ–∑–∏—Ü—ñ—è —Ç–æ—á–∫–∏
        let pointY = Math.floor(Math.random() * 400);
        let previousDistance = null;

        // –§—É–Ω–∫—Ü—ñ—è –º–∞–ª—é–≤–∞–Ω–Ω—è –æ–±–ª–∞—Å—Ç—ñ
        function drawTargetArea() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // –§—ñ–≥—É—Ä–∞-1: –ü–µ—Ä—à–∞ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞ —Å—Ç—Ä—ñ—á–∫–∞
            ctx.fillStyle = 'rgba(255, 0, 0, 0.3)';
            ctx.fillRect(verticalStrip1.xStart, 0, verticalStrip1.xEnd - verticalStrip1.xStart, canvas.height);

            // –§—ñ–≥—É—Ä–∞-2: –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞ —Å—Ç—Ä—ñ—á–∫–∞
            ctx.fillStyle = 'rgba(0, 255, 0, 0.3)';
            ctx.fillRect(0, horizontalStrip.yStart, canvas.width, horizontalStrip.yEnd - horizontalStrip.yStart);

            // –§—ñ–≥—É—Ä–∞-3: –î—Ä—É–≥–∞ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞ —Å—Ç—Ä—ñ—á–∫–∞
            ctx.fillStyle = 'rgba(0, 0, 255, 0.3)';
            ctx.fillRect(verticalStrip2.xStart, 0, verticalStrip2.xEnd - verticalStrip2.xStart, canvas.height);
        }

        // –ú–∞–ª—é—î–º–æ —Ç–æ—á–∫—É
        function drawPoint() {
            ctx.beginPath();
            ctx.arc(pointX, pointY, 5, 0, Math.PI * 2);
            ctx.fillStyle = 'red';
            ctx.fill();
            ctx.stroke();
        }

        // –û–Ω–æ–≤–ª–µ–Ω–Ω—è canvas
        function updateCanvas() {
            drawTargetArea();
            drawPoint();
        }

        // –û–±—á–∏—Å–ª–µ–Ω–Ω—è –≤—ñ–¥—Å—Ç–∞–Ω—ñ –¥–æ —Ü–µ–Ω—Ç—Ä–∞ –æ–±–ª–∞—Å—Ç—ñ
        function calculateDistance(x, y) {
            const centerX = (verticalStrip2.xStart + verticalStrip2.xEnd) / 2;
            const centerY = (horizontalStrip.yStart + horizontalStrip.yEnd) / 2;
            return Math.sqrt((x - centerX) ** 2 + (y - centerY) ** 2);
        }

        // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–∏ —Ç–æ—á–∫–∞ –≤ –æ–±–ª–∞—Å—Ç—ñ
        function isPointInTargetArea(x, y) {
            const inVertical1 = x >= verticalStrip1.xStart && x <= verticalStrip1.xEnd;
            const inHorizontal = y >= horizontalStrip.yStart && y <= horizontalStrip.yEnd;
            const inVertical2 = x >= verticalStrip2.xStart && x <= verticalStrip2.xEnd;

            return (inVertical1 || inHorizontal) && inVertical2;
        }

        // –î–æ–¥–∞–≤–∞–Ω–Ω—è –ø—ñ–¥–∫–∞–∑–∫–∏
        function addHint(hint) {
            const li = document.createElement('li');
            li.textContent = hint;
            hintList.appendChild(li);
        }

        // –ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è —Ç–æ—á–∫–∏
        function movePoint(dx, dy) {
            const prevX = pointX;
            const prevY = pointY;

            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
            pointX += dx;
            pointY += dy;

            const distance = calculateDistance(pointX, pointY);
            if (isPointInTargetArea(pointX, pointY)) {
                addHint(`üéØ –í–ª—É—á–∏–ª–∏ –≤ —Ü—ñ–ª—å –Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö (${pointX}, ${pointY})!`);
                updateCanvas();
                return;
            }

            if (previousDistance === null) {
                addHint(`–ü–æ—á–∞—Ç–∫–æ–≤—ñ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏: (${pointX}, ${pointY}).`);
            } else if (distance < previousDistance) {
                addHint(`–¢–µ–ø–ª—ñ—à–µ: (${pointX}, ${pointY}), –≤—ñ–¥—Å—Ç–∞–Ω—å –¥–æ —Ü—ñ–ª—ñ –∑–º–µ–Ω—à–∏–ª–∞—Å—è.`);
            } else {
                addHint(`–•–æ–ª–æ–¥–Ω—ñ—à–µ: (${pointX}, ${pointY}), –≤—ñ–¥—Å—Ç–∞–Ω—å –¥–æ —Ü—ñ–ª—ñ –∑–±—ñ–ª—å—à–∏–ª–∞—Å—è.`);
            }

            previousDistance = distance;

            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è canvas
            updateCanvas();
        }

        // –ü–æ—á–∞—Ç–∫–æ–≤–µ –º–∞–ª—é–≤–∞–Ω–Ω—è
        updateCanvas();
        addHint(`–ü–æ—á–∞—Ç–∫–æ–≤—ñ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ —Ç–æ—á–∫–∏: (${pointX}, ${pointY}).`);
    </script>
</body>
</html>
    